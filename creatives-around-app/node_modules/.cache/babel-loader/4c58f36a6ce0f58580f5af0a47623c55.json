{"ast":null,"code":"export default class DataService {\n  constructor(app) {\n    this.app = app;\n    this.app.state = {\n      user: null\n    };\n    this.setUp();\n  }\n\n  get data() {\n    return this.app.state;\n  }\n\n  set data(newState) {\n    this.app.setState(newState);\n  }\n\n  async setUp() {\n    const user = await this.fetchUser();\n    this.app.setState({ ...this.app.state,\n      user\n    });\n  }\n\n  async fetchUser() {\n    const response = await fetch('/api/user');\n    const user = await response.json();\n    return user;\n  }\n\n}","map":{"version":3,"sources":["/home/karol/Projects/creatives/creatives-around-frontend/creatives-around-app/src/context/DataService.js"],"names":["DataService","constructor","app","state","user","setUp","data","newState","setState","fetchUser","response","fetch","json"],"mappings":"AAAA,eAAe,MAAMA,WAAN,CAAkB;AAC/BC,EAAAA,WAAW,CAACC,GAAD,EAAM;AACf,SAAKA,GAAL,GAAWA,GAAX;AACA,SAAKA,GAAL,CAASC,KAAT,GAAiB;AAAEC,MAAAA,IAAI,EAAE;AAAR,KAAjB;AACA,SAAKC,KAAL;AACD;;AACD,MAAIC,IAAJ,GAAW;AACT,WAAO,KAAKJ,GAAL,CAASC,KAAhB;AACD;;AACD,MAAIG,IAAJ,CAASC,QAAT,EAAmB;AACjB,SAAKL,GAAL,CAASM,QAAT,CAAkBD,QAAlB;AACD;;AACD,QAAMF,KAAN,GAAc;AACZ,UAAMD,IAAI,GAAG,MAAM,KAAKK,SAAL,EAAnB;AACA,SAAKP,GAAL,CAASM,QAAT,CAAkB,EAAE,GAAG,KAAKN,GAAL,CAASC,KAAd;AAAqBC,MAAAA;AAArB,KAAlB;AACD;;AACD,QAAMK,SAAN,GAAkB;AAChB,UAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,WAAD,CAA5B;AACA,UAAMP,IAAI,GAAG,MAAMM,QAAQ,CAACE,IAAT,EAAnB;AACA,WAAOR,IAAP;AACD;;AApB8B","sourcesContent":["export default class DataService {\n  constructor(app) {\n    this.app = app;\n    this.app.state = { user: null };\n    this.setUp();\n  }\n  get data() {\n    return this.app.state;\n  }\n  set data(newState) {\n    this.app.setState(newState);\n  }\n  async setUp() {\n    const user = await this.fetchUser();\n    this.app.setState({ ...this.app.state, user });\n  }\n  async fetchUser() {\n    const response = await fetch('/api/user');\n    const user = await response.json();\n    return user;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}